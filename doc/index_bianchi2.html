<HTML>
<HEAD>
  <TITLE> BIANCHI2 v1.0 documentation </TITLE>
  <LINK rel="stylesheet" href="stylesheet.css" type="text/css" /> 
</HEAD>

<BODY>
<H1 ALIGN=center> BIANCHI2 package documentation </H1>

<H3 ALIGN=center> <a
href="http://www.mrao.cam.ac.uk/~anthony/index.php"> Anthony
Lasenby</a> and <a href="http:/www.mrao.cam.ac.uk/~jdm57/">Jason
McEwen </a></H3>


<P>
This package provides functionality to support the simulation of
Bianchi Type VIIh induced temperature fluctuations in CMB maps
of a universe with shear and rotation.  The implementation is
based on the solutions to the Bianchi models derived by
Anthony Lasenby that incorporate a cosmological constant.
Functionality is provided to compute the
induced fluctuations on the sphere directly in either real or
harmonic space.  <b>By default unitless Delta_T / T maps are produced,
unless the MILLIK option is specified at compilation, in which case the
maps are produced in units of mK.</b>

<P>
The library design is based on object-oriented principles and is
implemented in Fortran 90.  Generally one must instantiate a class
object using the corresponding init routines.  The instatiated object
should be freed once it is no longer required with the corresponding
free routine (this deallocates all memory associated with the object).

<p>
For further details see the
<a href="../README.txt">README.txt</a>
file.





<HR>
<H2> Installation </H2>

<p>
The BIANCHI2 package requires the
<a href="index_s2.html">S2</a>,
<a href="http://healpix.jpl.nasa.gov/">HEALPix</a>,
<a
href="http://heasarc.gsfc.nasa.gov/docs/software/fitsio/fitsio.html">CFITSIO</a>
and
<a href=http://www.nag.co.uk>NAG numerical libraries</a>
packages.  Please note that all BIANCHI2 code is written in
Fortran 90 and a suitable Fortran compiler will be required.


<H3> Compiling library </H3>

Before compiling you may need to edit the <a href="../makefile">makefile</a> to specify your
compiler and to link with the appropriate libraries.  Once you have
set the makefile up for your system then the BIANCHI2 library may be
compilied by running:
<blockquote>   
<code> >> make lib</code>
</blockquote>
By default simulations are produced as unitless Delta_T / T contributions.  To
produce maps in units of milli Kelvins the preprocessor variable
MILLIK must be set in the makefile.

<p>
For details on how to use the BIANCHI2 library code see the documentation
<a href="#library">below<a>.

<H3> Compiling utility programs </H3>
<p>
The BIANCHI2 utility programs may be compiled by running:
<blockquote>   
<code>>> make prog</code>
</blockquote>

For details on how to use the BIANCHI2 utility programs see the documentation
<a href="#utility">below<a>.

<H3> Testing </H3>
<p>
To test the BIANCHI2 installation run
<blockquote>   
<code>>> bin/bianchi2_sim param.par</code>
</blockquote>

using the param.par file provided.  This should create an output sky
map that is identical to one of the files in the test directory
(which file depends on whether you use Delta_T /T or milli Kelvin units).


<H3> Documentation </H3>
<p>
By default, the BIANCHI2 code ships with only this single documentation
page.  The remainder of the documentation is automatically generated
from the source code using 
<a href="http://theory.lcs.mit.edu/~edemaine/f90doc/">f90doc</a>.  
Please ensure that you have f90doc installed in order to generate this
documentation.  Once f90doc is installed the documentation may be 
generated by running:
<blockquote>   
<code>>> make docs</code>
</blockquote>

<H3> Cleaning up </H3>

To clean up your version of the BIANCHI2 code and return all code to its
original state run:
<blockquote>   
<code>>> make clean</code>
</blockquote>

To remove all documentation, except the front page (i.e. this file),
run:
<blockquote>   
<code>>> make cleandocs</code>
</blockquote>






<HR>
<a name="library"><H2> Library classes </H2></a>

An overview of the classes that comprise the BIANCHI2 library is given
here.  Please click on the link for each class for detailed
documentation. 

<p>
<CODE><a href=bianchi2_sky_mod.html>bianchi2_sky_mod</a></CODE>: 
  Provides functionality to simulate the induced temperature
  fluctuations in the CMD of a Bianchi VII_h model, incorporating a
  cosmological constant.
  Uses the s2_sky module to create healpix sky maps. 

<p>
<CODE><a href=bianchi2_error_mod.html>bianchi2_error_mod</a></CODE>: 
  Functionality to handle errors that may occur in the bianchi2
  library. Public bianchi2 error codes are defined, with corresponding
  private error comments and default halt execution status. 


<HR>
<a name="utility"><H2> Utility programs </H2></a>

Utility programs based on the BIANCHI2 library are listed here. 
Please click on the link for the program for detailed
documentation. 

<P>
<CODE><a href=bianchi2_sim.html>bianchi2_sim</a></CODE>: 
  Simulate a Bianchi VII_h model, incorporating a cosmological
  constant, of the induced temperature fluctuations in the CMB.
  This program may be run interactively (by running <code>>
  bianchi_sim</code>), or with an input parameter file (by running
  <code>> bianchi2_sim parameters.par</code>). 


<HR>
<H2> Support  </H2>

For support or to report any bugs please contact Jason McEwen 
(<CODE>mcewen@mrao.cam.ac.uk</CODE>).


<HR>
<H2> Reference  </H2>

This implementation is based on the solutions to the Bianchi models
derived by Anthony Lasenby when incorporating a dark energy component.
This work is not yet published and is still to appear.  Nevertheless,
we make our implementation of these solutions available in this
package.  If you use the code to produce published works please
reference the download site
<a
href=http://www.mrao.cam.ac.uk/~jdm57/>http://www.mrao.cam.ac.uk/~jdm57/</a>
and our
related paper on Bayesian evidence for Bianchi VIIh models with dark
energy in the WMAP CMB data:




<blockquote>
M. Bridges, J. D. McEwen, A. N. Lasenby, and M. P. Hobson.
<a
href="http://www.mrao.cam.ac.uk/~jdm57/publications.html#bridges:2006b">
Markov
chain Monte Carlo analysis of Bianchi VIIh
models</a>. Mon. Not. Roy. Astron. Soc., 377(4):1473-1480, 2007.
</blockquote>



<HR>
<H2> Version </H2>

<P>
<STRONG>Author:</STRONG> A. N. Lasenby and J. D. McEwen (<CODE>mcewen@mrao.cam.ac.uk</CODE>)
<P>
<STRONG>Version:</STRONG> 1.0 - July 2008

<H3> Version History </H3>

<ul>
<li>Version 1.0<br>
Initial public release.

<p>
<li>Version 0.2<br> Global data stored in module to avoid use of
common blocks and any associated memory leaks.

<p>
<li>Version 0.1<br>
Original version.


</ul>


<HR>
<H2> License </H2>

     <blockquote>
     <p>
     BIANCHI2 package to simulate Bianchi induced temperature
     fluctuations in CMB maps when incorporating a cosmological
     constant<br>
     Copyright (C) 2005  Anthony Lasenby & Jason McEwen

    <p>
     This program is free software; you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     as published by the Free Software Foundation; either version 2
     of the License, or (at your option) any later version.

     <p>
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details 
     (<a href="../LICENSE.txt">LICENSE.txt</a>).

     <p>
     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
     Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
     MA  02110-1301, USA.

     </blockquote>


<HR>
<H2> Acknowledgements </H2>

<p>
This documentation has been generated largely by <a
href="http://theory.lcs.mit.edu/~edemaine/f90doc/">f90doc</a>, with
some minor modifications.


<HR>
<p align=right>
<font size="0.8em">Last modified: 1 July 2008</font>

</BODY>
</HTML>

